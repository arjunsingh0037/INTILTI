define(["jquery","theme_moove/resize_sensor","core/log"],function(a,b,c){"use strict";function d(){return a.Moove.controlSidebar={activate:function(){var b=this,c=a.Moove.options.controlSidebarOptions,d=a(c.selector),e=a(c.toggleBtnSelector),f=a.Moove.options.screenSizes;a(".content-wrapper").click(function(){a(window).width()<=f.sm-1&&b.close(d,c.slide)}),e.on("click",function(e){e.preventDefault(),d.hasClass("sidebar-blocks-open")||a("body").hasClass("sidebar-blocks-open")?b.close(d,c.slide):b.open(d,c.slide)});var g=a(".control-sidebar-bg");b._fix(g),a("body").hasClass("fixed")?b._fixForFixed(d):a(".content-wrapper, .right-side").height()<d.height()&&b._fixForContent(d)},open:function(b,c){a(".rightsidebar-toggle").find(".fa").removeClass("fa-plus"),a(".rightsidebar-toggle").find(".fa").addClass("fa-minus"),c?(b.addClass("sidebar-blocks-open"),b.removeClass("display-none")):a("body").addClass("sidebar-blocks-open")},close:function(b,c){a(".rightsidebar-toggle").find(".fa").addClass("fa-plus"),a(".rightsidebar-toggle").find(".fa").removeClass("fa-minus"),c?(b.removeClass("sidebar-blocks-open"),b.addClass("display-none")):(a("body").removeClass("sidebar-blocks-open"),a(".sidebar-blocks-open").attr("display","none"))},_fix:function(b){var c=this;a("body").hasClass("layout-boxed")?(b.css("position","absolute"),b.height(a(".wrapper").height()),a(window).resize(function(){c._fix(b)})):b.css({position:"fixed",height:"auto"})},_fixForFixed:function(a){a.css({position:"fixed","max-height":"100%","padding-bottom":"50px"})},_fixForContent:function(b){a(".content-wrapper, .right-side").css("min-height",b.height())},_fixForHeightChange:function(b){var c=a(".sidebar").height(),d=a(b).height(),e=c>d?c:d;a(".content-wrapper, .right-side").css("min-height",e)}},a.Moove}c.debug("Theme Moove AMD initialised"),a.Moove={},a.Moove.options={enableBSToppltip:!0,BSTooltipSelector:"[data-admtoggle='tooltip']",enableControlSidebar:!0,controlSidebarOptions:{toggleBtnSelector:"[data-toggle='control-sidebar']",selector:".control-sidebar",slide:!0,slide:parseInt(a(".rightsidebar-toggle").attr("data-slide"))},screenSizes:{xs:480,sm:768,md:992,lg:1200}},a(function(){a("body").removeClass("hold-transition"),"undefined"!=typeof MooveOptions&&a.extend(!0,a.Moove.options,MooveOptions);var b=a.Moove.options;d(),b.enableControlSidebar&&a.Moove.controlSidebar.activate(),b.enableBSToppltip&&a("body").tooltip({selector:b.BSTooltipSelector,container:"body"}),a('.btn-group[data-toggle="btn-toggle"]').each(function(){var b=a(this);a(this).find(".btn").on("click",function(c){b.find(".btn.active").removeClass("active"),a(this).addClass("active"),c.preventDefault()})})})});